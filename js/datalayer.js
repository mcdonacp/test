function pushToDataLayer(data){return new Promise(function(resolve){console.log(data);dataLayer.push(data);resolve();});}
function setupTracking(selector,component,getType,getLink,getTitle,getAction,selectorParent='body'){jQuery(selectorParent).on('click',selector,function(){pushToDataLayer({"event":"interaction","component":component,"type":getType?getType(jQuery(this)):undefined,"link":getLink?getLink(jQuery(this)):undefined,"title":getTitle?getTitle(jQuery(this)):undefined,"action":getAction?getAction(jQuery(this)):undefined});});}
jQuery(document).ready(function(){setupTracking('.elementor-widget-button','BUTTON',elem=>getElementType(elem),elem=>elem.find('a.elementor-button-link').attr('href'),elem=>elem.find('span.elementor-button-text').text(),elem=>'click',);setupTracking('.elementor-widget-image','IMAGE',elem=>getElementType(elem),elem=>elem.find('a').attr('href'),elem=>elem.find('img').attr('alt'),elem=>'click',);setupTracking('.elementor-widget-icon, .elementor-widget-icon-box','LINK',elem=>getElementType(elem),elem=>elem.find('a.elementor-icon').attr('href'),elem=>elem.find('i').attr('class'),elem=>'click',);setupTracking('.elementor-widget-image-box','LINK',elem=>getElementType(elem),elem=>elem.find('a').attr('href'),elem=>elem.find('.elementor-image-box-title').text(),elem=>'click',);setupTracking('.elementor-widget-text-editor a','LINK',elem=>getElementType(elem),elem=>elem.attr('href'),elem=>elem.text(),elem=>'click',);setupTracking('.elementor-widget-heading, .elementor-widget-dce-tokens','LINK',elem=>getElementType(elem),elem=>elem.find('a').attr('href'),elem=>elem.find('a').text(),elem=>'click',);setupTracking('.elementor-widget-slider_revolution a','SLIDER',()=>'PROMOTION',elem=>elem.attr('href'),elem=>elem.find('img.tp-rs-img').attr('alt'));setupTracking('.elementor-widget-wp-widget-nav_menu .menu-item','NAVIGATION',()=>'FOOTER',elem=>elem.find('a').attr('href'),elem=>elem.find('a').text());setupTracking('.elementor-widget-social-icons .elementor-grid-item','LINK',null,elem=>elem.find('a').attr('href'),elem=>elem.find('span.elementor-screen-only').text());setupTracking('.elementor-widget-icon-list a','LINK',elem=>getElementType(elem),elem=>elem.attr('href'),elem=>elem.find('span.elementor-icon-list-text').text(),elem=>'click',);setupTracking('.elementor-widget-html a','LINK',elem=>getElementType(elem),elem=>elem.attr('href'),elem=>elem.text(),elem=>'click',);setupTracking('.elementor-widget-posts article.elementor-post','POSTS',elem=>elem.parents('.elementor-widget-posts').data('widget_type'),elem=>elem.find('.elementor-heading-title').find('a').attr('href'),elem=>jQuery.trim(elem.find('.elementor-heading-title').find('a').text()));setupTracking('.elementor-widget-post-info a','LINK',elem=>getElementType(elem),elem=>elem.attr('href'),elem=>jQuery.trim(elem.text()),elem=>'click',);setupTracking('.elementor-widget-post-content a','LINK',null,elem=>elem.attr('href'),elem=>elem.text());setupTracking('.elementor-widget-theme-post-content a','LINK',elem=>getElementType(elem),elem=>elem.attr('href'),elem=>elem.text(),elem=>'click',);setupTracking('.elementor-widget-eael-adv-tabs li','TAB',null,null,elem=>elem.find('.eael-tab-title').text(),elem=>elem.hasClass('active')==true?"active":"inactive",);setupTracking('.elementor-widget-toggle .elementor-toggle-item','TOGGLE',null,null,elem=>elem.find('.elementor-toggle-title').text(),elem=>elem.find('.elementor-tab-title').attr('aria-expanded')=="true"?"OPEN":"CLOSE",);setupTracking('.elementor-widget-call-to-action','BUTTON',elem=>getElementType(elem),elem=>elem.find('a').attr('href'),elem=>jQuery.trim(elem.find('a').text()),elem=>'click',);setupTracking('.elementor-widget-post-navigation .elementor-post-navigation__link','LINK',elem=>elem.find('a').attr('rel')=="prev"?"PREVIOUS":"NEXT",elem=>elem.find('a').attr('href'),elem=>elem.find('span[class*="--title"]').text());setupTracking('.elementor-page-title:not(.elementor-widget-heading)','LINK',elem=>getElementType(elem),elem=>elem.find('a').attr('href'),elem=>elem.find('a').text(),elem=>'click',);setupTracking('.elementor-widget-accordion .elementor-toggle-item, .elementor-widget-accordion .elementor-tab-title','ACCORDION',elem=>getElementType(elem),elem=>elem.find('.elementor-accordion-title').attr('href'),elem=>elem.find('.elementor-accordion-title').text(),elem=>elem.attr('aria-expanded')=="true"?"OPEN":"CLOSE",);setupTracking('.elementor-widget-nav-menu .menu-item','NAVIGATION',elem=>elem.parents('header').length>0?"HEADER":null,elem=>elem.find('a').attr('href'),elem=>elem.find('a').text());setupTracking('.webchat-toggle-button','BUTTON',null,elem=>elem.attr('aria-label'),elem=>elem.attr('aria-label')=="Close Chat"?"OPEN":"CLOSE",);setupTracking('.elementor-widget-shortcode .ewd-ufaq-can-be-toggled','TOGGLE',()=>'FAQ',null,elem=>jQuery.trim(elem.find('.ewd-ufaq-faq-title-text').text()),elem=>elem.find('.ewd-ufaq-faq-toggle').attr('aria-expanded')=="true"?"OPEN":"CLOSE",);setupTracking('.elementor-widget-shortcode .faq-title-can-toggle','TOGGLE',()=>'FAQ',null,elem=>jQuery.trim(elem.find('.faq-title').text()),elem=>elem.find('.faq-content').attr('aria-expanded')=="true"?"OPEN":"CLOSE",);setupTracking('.elementor-widget-shortcode .faq-cat-tag-can-toggle .hsdd-title','TOGGLE',()=>'FAQ',null,elem=>jQuery.trim(elem.find('.faq-cat-tag-title').text()),elem=>elem.parent().find('.hsdd-qa-container').attr('aria-expanded')=="true"?"OPEN":"CLOSE",);setupTracking('.elementor-widget-dce-dynamicposts-v2 a.dce-post-image','IMAGE',elem=>getElementType(elem),elem=>elem.attr('href'),elem=>elem.find('figure.dce-img img').attr('alt'),elem=>'click',);setupTracking('.elementor-widget-dce-dynamicposts-v2 .dce-item_title','LINK',elem=>getElementType(elem),elem=>elem.find('a').attr('href'),elem=>elem.find('a').text(),elem=>'click',);setupTracking('.embeddedServiceHelpButton .helpButton button','BUTTON',elem=>getElementType(elem),elem=>null,elem=>elem.find('span.message').text(),elem=>'click',);setupTracking('.embeddedServiceSidebarFeature .startButton','BUTTON',elem=>getElementType(elem),elem=>null,elem=>elem.find('span').text(),elem=>'click',);setupTracking('ul#nv-primary-navigation-main li.menu-item a','NAVIGATION',elem=>getElementType(elem),elem=>elem.attr('href'),elem=>elem.text(),elem=>'click',);setupTracking('ul#nv-primary-navigation-sidebar.primary-menu-ul li.menu-item a','NAVIGATION',elem=>getElementType(elem),elem=>elem.attr('href'),elem=>elem.text(),elem=>'click',);setupTracking('.elementor-widget-taxonomy-terms-menu ul li a img','IMAGE',elem=>getElementType(elem),elem=>elem.parent().attr('href'),elem=>elem.parent().find('span').text(),elem=>'click',);setupTracking('.elementor-widget-shortcode button','BUTTON',elem=>elem.hasClass('calculator--button')?"calculator":null,elem=>null,elem=>elem.text(),elem=>'click',);setTimeout(function(){setupTracking('.QSI__EmbeddedFeedbackContainer_TextButton','BUTTON',elem=>jQuery('.elementor-widget-html').closest('header').length?'HEADER':jQuery('.elementor-widget-html').closest('main').length?'BODY':null,elem=>null,elem=>elem.attr('title'),elem=>'click','.elementor-widget-html .QSI__EmbeddedFeedbackContainer_ButtonsQuestion');},1500);});jQuery(window).on('load',function(){pushPageMetadataTracking();});function getElementType(element){if(element.closest('header').length){return 'HEADER';}else if(element.closest('main').length){return 'BODY';}else{return null;}}
function pushPageMetadataTracking(){const siteName=jQuery('head meta[property="og:site_name"]').attr('content')||null;const pageTitle=jQuery('head title').text()||null;const pagePostType=getPagePostType();const shopTerms=getPagePostTerms('shop-');const locationTerms=getPagePostTerms('locations-');const tagTerms=getPagePostTerms('tag-');const pageMetadata={event:"pageLoaded",siteName:siteName,pageTitle:pageTitle,pagePostType:pagePostType,pagePostTerms:{shop:shopTerms,locations:locationTerms,post_tag:tagTerms}};pushToDataLayer(pageMetadata);}
function getPagePostType(){const bodyClasses=document.body.classList;if(bodyClasses.contains('home')&&bodyClasses.contains('page')){return 'frontpage';}else if(bodyClasses.contains('single-store')){return 'store';}else if(bodyClasses.contains('tax-shop')){return 'category';}else if(bodyClasses.contains('tag')){return 'tag';}else if(bodyClasses.contains('single-ufaq')){return 'faq';}else if(bodyClasses.contains('category')||bodyClasses.contains('single-post')){return 'blog';}else if(bodyClasses.contains('author')){return 'author';}else if(!bodyClasses.contains('home')&&(bodyClasses.contains('page')||bodyClasses.contains('archive'))){return 'page';}
return null;}
function getPagePostTerms(prefix){const mainContent=jQuery('main#content');if(!mainContent.length){return null;}
const section=mainContent.find('section').first();if(!section.length){return null;}
return section.attr('class').split(/\s+/).filter(cls=>cls.startsWith(prefix)).map(cls=>cls.replace(prefix,'').replace(/-/g,' ')).join(', ');}